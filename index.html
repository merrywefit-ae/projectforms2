<!DOCTYPE html> <html> <head> <title>WEFIT – Site Entry Dashboard</title> 
 <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
    <title>Ultra Modern Login Experience</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
   <div class="page-wrapper">
    <!-- Background Elements -->
    <div class="background">
      <div class="noise"></div>
      <div class="grid"></div>
      <div class="gradient-sphere sphere-1"></div>
      <div class="gradient-sphere sphere-2"></div>
    </div>
     <aside class="sidebar">
    <div class="login-page"> <!-- Left Panel with intro content -->
      <div class="left-panel"><!-- Brand Logo -->
        <div class="brand fade-in fade-in-1"> <!--<div class="logo">WEFIT</div>-->
          <img src="https://github.com/merrywefit-ae/projectforms2/blob/main/wefit.png?raw=true" alt="WEFIT"height="60"/><!-- <div class="logo-text">Contracting and Maintenance LLC</div>-->
        </div>  </aside>
         <main class="main-content">
        <!-- Intro Text -->
        <div class="intro-text fade-in fade-in-2">

          <h2>WEFIT Workspace portal</h2>
          <p>
            Connect with your team, manage projects, and drive success with our
            intuitive platform.
          </p>
        </div> <!-- <header class="topbar">
        <h1>Portal</h1>
      </header>

        <!-- Features List -->
        <div class="features fade-in fade-in-3">
          <div class="feature">
            <div class="feature-icon">
              <i class="fa-solid fa-shield-halved"></i>
            </div>
            <div class="feature-text">Enterprise-grade security</div>
          </div>
          <div class="feature">
            <div class="feature-icon">
              <i class="fa-solid fa-users-gear"></i>
            </div>
            <div class="feature-text">Real-time collaboration</div>
          </div>
          <div class="feature">
            <div class="feature-icon">
              <i class="fa-solid fa-chart-line"></i>
            </div>
            <div class="feature-text">Advanced analytics</div>
          </div>
        </div>
        </div>

         <!-- Footer -->
        <div class="footer fade-in fade-in-4">
          <span>© 2025 WEFIT. All rights reserved.</span>
          <nav>
            <ul>
              <li><a href="#">Terms</a></li>
              <li><a href="#">Privacy</a></li>
              <li><a href="#">Help</a></li>
            </ul>
          </nav>
        </div>   <section class="content-area">
         <div class="right-panel">
        <div class="login-container">
          <div class="login-header">
            <h2>Welcome back</h2>
            <p>Sign in to your account to continue</p>
    
<button onclick="logout()" style="float: right; margin: 10px;">Logout</button>
          <div id="loginContainer">
           <h2>Login</h2>
  <label>Enter Password:</label>
  <input type="password" id="loginPassword"></div>
  <button onclick="checkLogin()">Login</button>
  <div id="formContainer" style="display: none;"> 
  <h2>Daily Work</h2>
  
  <!-- All your existing forms here -->

<form id="dailyForm">
  <label for="siteName">Site Name:</label>
  <select name="Site Name" id="siteName" required>
    <option value="" disabled selected>Select Site</option>
    <option value="Damac Hills">Damac Hills</option>
    <option value="Downtown">Downtown</option>
    <option value="JVC">JVC</option>
    <option value="Palm Jumeirah">Palm Jumeirah</option>
  </select>

  <label for="employeeName">Employee Name:</label>
  <select name="Employee Name" id="employeeName" required>
    <option value="" disabled selected>Select Employee Name</option>
    <option value="Mahendran">Mahendran</option>
    <option value="Prince">Prince</option>
    <option value="Suchin">Suchin</option>
  </select>

  <label for="taskNo">Task No:</label>
  <select name="Task No" id="taskNo" required>
    <option value="" disabled selected>Select Task</option>
    <option value="T01">T01</option>
    <option value="T02">T02</option>
    <option value="T03">T03</option>
  </select>

  <label>Progress (%):</label>
  <input type="number" name="Progress (%)" required>

  <label>Remarks:</label>
  <input type="text" name="Remarks" required>

  <button type="submit">Submit</button>
</form>

<div id="dailyRecords">
  <h4>Submitted Entries</h4>
  <table border="1" id="dailyWorkTable">
    <thead>
      <tr>
        <th>Site</th>
        <th>Task</th>
        <th>Progress (%)</th>
        <th>Remarks</th>
        <th>Timestamp</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<h2>Manpower</h2>
<form id="manpowerForm">
  <label>Site Name:</label><input name="Site Name" required>
  <label>Labor Type:</label><input name="Labor Type" required>
  <label>No. of Workers:</label><input name="No. of Workers" type="number" required>
  <label>Hours:</label><input name="Hours" type="number" step="0.1" required>
  <button type="submit">Submit Manpower</button>
</form>

<h2>Material Check</h2>
<form id="materialForm">
  <label>Site Name:</label><input name="Site Name" required>
  <label>Material Name:</label><input name="Material Name" required>
  <label>Quantity:</label><input name="Quantity" type="number" required>
  <label>Unit (e.g., bags, pcs):</label><input name="Unit" required>
  <label>Delivered:</label>
  <select name="Delivered">
    <option value="Yes">Yes</option>
    <option value="No">No</option>
  </select>
  <button type="submit">Submit Material</button>
</form>

<h2>Cost Entry</h2>
<form id="costForm">
  <label>Site Name:</label><input name="Site Name" required>
  <label>Task:</label><input name="Task" required>
  <label>Item (e.g., Concrete):</label><input name="Item" required>
  <label>Amount (AED):</label><input name="Amount (AED)" type="number" required>
  <button type="submit">Submit Cost</button>
</form>

</div>
  </section>
    </main>

  <style>
    body { font-family: Arial; padding: 20px; background: #f5f5f5; }
    h2 { color: #2a4d69; }
    form { padding: 20px; margin-bottom: 30px; border-radius: 10px; box-shadow: 0 2px 6px #ccc; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select, textarea { width: 100%; padding: 8px; margin-top: 5px; }
    button { margin-top: 15px; padding: 10px 20px; background: #2a4d69; color: white; border: none; border-radius: 5px; }
  </style>


  <script>
  function checkLogin() {
    const password = document.getElementById('loginPassword').value;
    if (password === "wefit2025") { // Change this to your desired password
      document.getElementById('loginContainer').style.display = 'none';
      document.getElementById('formContainer').style.display = 'block';
    } else {
      alert("Incorrect password. Please try again.");
    }
  }
</script>


<script>
   async function loadDailyWorkRecords() {
    try {
      const response = await fetch('https://script.google.com/macros/s/AKfycby4cFargJJBsy_F1Rltend_ZUcCq99DYY3zYNWgmf01BO4lKgpqZw0B6tcwJxwomLc/exec');
      const data = await response.json();
      const table = document.getElementById('dailyWorkTable').querySelector('tbody');
      table.innerHTML = ''; // Clear old data

      data.forEach(entry => {
        const row = `<tr>
          <td>${entry['Site Name'] || ''}</td>
          <td>${entry['Task'] || ''}</td>
          <td>${entry['Progress (%)'] || ''}</td>
          <td>${entry['Remarks'] || ''}</td>
          <td>${entry['Timestamp'] || ''}</td>
        </tr>`;
        table.innerHTML += row;
      });
    } catch (error) {
      console.error("Error loading data:", error);
    }
  }
</script>
  
<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxgXWPonADh8jPzbGqLgH72mxI1R7kXcRgxEGDhHe0GcGBmmfCcEOhdg3aGVOK6gDgDww/exec';


function handleSubmit(formId, formName) {
  const form = document.getElementById(formId);
  form.addEventListener('submit', e => {
    e.preventDefault();
    const data = { form: formName };

    [...form.elements].forEach(el => {
      if (el.name) data[el.name] = el.value;
    });

    fetch(scriptURL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });

    alert('Submitted!');
    form.reset();
  });
}

    window.onload = function() {
      handleSubmit('dailyForm', 'DailyWork');
      handleSubmit('manpowerForm', 'Manpower');
      handleSubmit('materialForm', 'MaterialCheck');
      handleSubmit('costForm', 'CostEntry');
    };
  </script>

  <script>
  function checkLogin() {
    const password = document.getElementById('loginPassword').value;
    if (password === "wefit2025") {
      document.getElementById('loginContainer').style.display = 'none';
      document.getElementById('formContainer').style.display = 'block';
      // Optional: save login in local storage
      localStorage.setItem('loggedIn', 'true');
    } else {
      alert("Incorrect password. Please try again.");
    }
  }

  function logout() {
    localStorage.removeItem('loggedIn');
    document.getElementById('loginContainer').style.display = 'block';
    document.getElementById('formContainer').style.display = 'none';
  }

  // Auto login if previously logged in
  window.onload = function () {
    if (localStorage.getItem('loggedIn') === 'true') {
      document.getElementById('loginContainer').style.display = 'none';
      document.getElementById('formContainer').style.display = 'block';
    }

    handleSubmit('dailyForm', 'DailyWork');
    handleSubmit('manpowerForm', 'Manpower');
    handleSubmit('materialForm', 'MaterialCheck');
    handleSubmit('costForm', 'CostEntry');
  };
</script>

</head>
<body>
